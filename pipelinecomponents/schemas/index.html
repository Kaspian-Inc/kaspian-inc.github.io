<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.81.0"><link rel=alternate type=application/rss+xml href=https://kaspian-inc.github.io/pipelinecomponents/schemas/index.xml><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Schemas | Kaspian</title><meta property="og:title" content="Schemas"><meta property="og:description" content="Flexible data structures
"><meta property="og:type" content="website"><meta property="og:url" content="https://kaspian-inc.github.io/pipelinecomponents/schemas/"><meta property="og:site_name" content="Kaspian"><meta itemprop=name content="Schemas"><meta itemprop=description content="Flexible data structures
"><meta name=twitter:card content="summary"><meta name=twitter:title content="Schemas"><meta name=twitter:description content="Flexible data structures
"><link rel=preload href=/scss/main.min.f7ec9b097c6e51f4c2d7f5c43ed9fc7dbd08c81874f53886adc3fb8e2c69fe5b.css as=style><link href=/scss/main.min.f7ec9b097c6e51f4c2d7f5c43ed9fc7dbd08c81874f53886adc3fb8e2c69fe5b.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script><title>Schemas | Kaspian</title></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="#fff" stroke="none"><path d="M2320 5109c-491-47-981-246-1366-557C355 4070 0 3328 0 2560c0-577 204-1155 568-1606C1050 355 1792 0 2560 0c577 0 1155 204 1606 568 599 482 954 1224 954 1992 0 577-204 1155-568 1606-433 538-1071 879-1767 944-125 11-340 11-465-1zm-168-1929 3-970 360 517c198 284 367 525 375 535 14 17 30 18 211 16l197-3-340-473-339-473 353-671c194-369 355-675 356-679 2-5-88-9-2e2-9h-203l-263 526c-145 290-267 523-271 518s-60-66-124-136l-117-126v-391-391h-180-180v1583c0 871 3 1587 7 1590 3 4 84 7 180 7h173l2-970z"/></g></svg></span><span class=text-lowercase>Kaspian</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.0a43fe4c85c1c8e194039d62287ea119.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><nav class="collapse td-sidebar-nav pt-2 pl-4" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a></li><ul><li class="collapse show"><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/gettingstarted/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Getting Started</a></li><ul><li class="collapse show" id=gettingstarted><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/gettingstarted/addingintegrations/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Adding Integrations</a></li><ul><li class="collapse show" id=gettingstartedaddingintegrations></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/gettingstarted/addingdatastores/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Adding Datastores</a></li><ul><li class="collapse show" id=gettingstartedaddingdatastores></li></ul></ul></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/pipelinecomponents/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Pipeline Components</a></li><ul><li class="collapse show" id=pipelinecomponents><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/pipelinecomponents/schemas/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Schemas</a></li><ul><li class="collapse show" id=pipelinecomponentsschemas></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/pipelinecomponents/tasks/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Tasks</a></li><ul><li class="collapse show" id=pipelinecomponentstasks></li></ul></ul></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/pipelinemanagement/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Pipeline Management</a></li><ul><li class="collapse show" id=pipelinemanagement><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/pipelinemanagement/construction/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Construction</a></li><ul><li class="collapse show" id=pipelinemanagementconstruction></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/pipelinemanagement/deployment/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Deployment</a></li><ul><li class="collapse show" id=pipelinemanagementdeployment></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/pipelinemanagement/introspection/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Introspection</a></li><ul><li class="collapse show" id=pipelinemanagementintrospection></li></ul></ul></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/miscellaneous/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Miscellaneous</a></li><ul><li class="collapse show" id=miscellaneous><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/miscellaneous/console/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">SQL Query Console</a></li><ul><li class="collapse show" id=miscellaneousconsole></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/miscellaneous/users/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">User Management</a></li><ul><li class="collapse show" id=miscellaneoususers></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/miscellaneous/billing/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Billing</a></li><ul><li class="collapse show" id=miscellaneousbilling></li></ul></ul></li></ul></ul></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"></div></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://kaspian-inc.github.io/pipelinecomponents/>Pipeline Components</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://kaspian-inc.github.io/pipelinecomponents/schemas/>Schemas</a></li></ol></nav><div class=td-content><h1>Schemas</h1><div class=lead>Flexible data structures</div><p>Schemas define the structure of data at any point within a Pipeline graph.
Because they are required at every transformation within a graph, schemas ensure that
Kaspian Pipelines are strongly typed and thereby protect the data integrity of downstream data sinks.</p><figure><img src=/pipelinecomponents/schemas/schema.png width=850px></figure><p>The Schema editor can be accessed via the Pipelines tab: after navigating to Pipelines,
the Components view and the Graph Builder view can be toggled using the top right button.</p><figure><img src=/pipelinecomponents/schemas/pipelines_toggle_components.png width=850px></figure><p>Like Tasks, Schemas can be scoped to specific Pipelines or be configured to have global scope
(i.e. used in any Pipeline). Scoping serves both to help organize Schemas and to facilitate
their reuse in different Pipelines. Note that while the scope of a Schema cannot be changed
after it has been created, Schemas can be cloned into other Pipelines scopes or into the global
scope using the Schema editor.</p><p>The editor also enables Schema to be edited and deleted.
Schemas cannot be deleted until all Tasks, Pipelines, and
Datastores that use them are also deleted and Kaspian will present the user with the
relevant dependency conflict chain if a delete operation is requested.</p><h2 id=task-schemas>Task Schemas</h2><p>All Tasks have either an input Schema or an output Schema; many require both.
The input Schema defines the structure of data entering a Task while the output Schema defines the
structure of data exiting a Task.</p><figure><img src=/pipelinecomponents/schemas/schema_field.png width=850px></figure><p>A Schema consists of an ordered array of fields.
A field has four elements: <code>name</code>, <code>description</code>, <code>datatype</code>, and <code>nullable</code>.
<code>name</code> refers to the column name being referenced. Note that this value must be unique within a given Schema.
<code>description</code> is meant to provide a space for users to add any useful documentation about the field.
<code>datatype</code> values must be selected from the following list of supported options:</p><table><thead><tr><th>Datatype</th><th>Description</th></tr></thead><tbody><tr><td>ARRAY</td><td>Array-type values</td></tr><tr><td>BINARY</td><td>Binary values</td></tr><tr><td>BOOLEAN</td><td>True or false values</td></tr><tr><td>BYTE</td><td>Byte values</td></tr><tr><td>DATE</td><td>Dates without time values</td></tr><tr><td>DECIMAL</td><td>Rational values with specified precision</td></tr><tr><td>DOUBLE</td><td>Double precision values</td></tr><tr><td>FLOAT</td><td>Floating point values</td></tr><tr><td>INTEGER</td><td>Integer values</td></tr><tr><td>LONG</td><td>32-bit signed integer values</td></tr><tr><td>MAP</td><td>Key-value pairs</td></tr><tr><td>SHORT</td><td>16-bit signed integer values</td></tr><tr><td>STRING</td><td>Text or varchar values</td></tr><tr><td>TIMESTAMP</td><td>Dates with time(zone) values</td></tr></tbody></table><p>In general, Kaspian is compatible with any datatype supported by Apache Spark and
maps types from Datastores to this list the same way a Spark engine would.</p><p>The <code>nullable</code> flag is a boolean option that specifies if the value for that specific field is allowed to be null.
This option can serve as a valuable data integrity check for required fields.</p><h2 id=datastore-schemas>Datastore Schemas</h2><p>Tables registered in flat file/data lake environments such as AWS S3 can be added as <a href=https://kaspian-inc.github.io/gettingstarted/addingdatastores/#aws-s3>Datastores</a>. This abstraction allows these resources to behave identically to SQL Datastores such as Snowflake and Postgres within the Kaspian compute layer. Kaspian requires that these Datastores have a Schema attached so that data integrity can be programmatically enforced. It is recommended that Datastore Schemas have global scope so that they can be reused by other Pipelines.</p><div class=section-index><hr class=panel-line></div><div class="text-muted mt-5 pt-3 border-top">Last modified February 13, 2021</div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2021 Kaspian, Inc. All Rights Reserved</small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js integrity=sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/mermaid@8.8.1/dist/mermaid.min.js integrity=sha384-to2w0I1OqmbJ9J6yTnIX+KYU8grNpZoD1dKPLjgEJvMe5L5+/7qvuNa2sQo8WAWj crossorigin=anonymous></script><script src=/js/main.min.35c5770f719bb611a03f6a64c6598c71aa4d7c105a53cea18badb91a16573eb2.js integrity="sha256-NcV3D3GbthGgP2pkxlmMcapNfBBaU86hi625GhZXPrI=" crossorigin=anonymous></script></body></html>